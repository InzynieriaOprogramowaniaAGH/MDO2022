Rafal Krumpholz - Zajęcia 03
Łączność i woluminy na podstawie "złych" praktyk

    Pobierz obraz Ubuntu
        uwagi: nalezy najpierw zainstalowac docker
        screen: 1pobierz_obraz_ubuntu.png

    Podłącz wolumin do kontenera
        uwagi: najpierw musimy stworzyc wolumin w okreslonym miejscu, dopiero nastepnie mozemy go odpalic
        screen:2docker_wolumin.png

    Skopiuj plik do katalogu woluminu, pokaż w kontenerze
    Utwórz plik w kontenerze, na obszarze woluminu, pokaż na hoście
        uwagi: sciezka do zawartosci kontenera znajduje sie w Mountpoint (wypisane na poprzednim screenie)
        screen: 3plik_host_kontener.png


"Kiepski pomysł": SSH

    Uruchom i wyeksponuj wybrany port w kontenerze
        screen: 4kontener_port_ssh.png

    Zainstaluj w kontenerze serwer ssh
        uwagi: pobrany poleceniem apt install openssh-server

    zmień port na wybrany port >1024
    zezwol na logowanie root
        uwagi: edytowany jest plik sshd_config znajdujacy sie w folderze /etc/ssh/
        screen: 5config.png

    umieść klucz publiczny w woluminie, skopiuj go do pliku zaufanych w kontenerze
        uwagi: klucz utworzony za pomoca ssh-keygen ecdsa, skopiowany do kontenera do folderu .ssh jako authorized_keys

    odnajdź adres IP kontenera w wewnętrznej sieci
    uruchom usługę, połącz się z kontenerem
        uwagi: polecenie netstat -utnpa4 wymaga zainstalowania net-tools. po wywolaniu polecenia odczytuje adres i lacze sie z nim w drugim terminalu (polecenie wywolane na hoscie jako VirtualBox, terminal zmienia nazwe po polaczeniu)
        screen:6ssh_login.png


Skonteneryzowany Jenkins stosujący Dockera

    Instrukcja https://www.jenkins.io/doc/book/installing/docker/
        uwagi: podazam za instrukcja na na stronie jenkinsa(screen 7). by odnalezc haslo nalezy dokonac inspekcji wykonanego obrazu blue_ocean za pomoca docker logs <id/nazwa> (id znajduje za pomoca polecenia docker ps - screen 8), nastepnie w przegladarce dokonczyc konfiguracje (screen 9)
        screen: 7blue_ocen.png / 8jenkins_login.png / 9konfiguracja.png

Mikro-projekt Jenkins

    Projekt uname
        uwagi: tworze nowy freestyle job, w zakladce build zmieniam na 'execute shell' i wpisuje polecenie (w konfiguracji kontynuowalem bez logowania jako admin)
        screen: 10uname.png

    Projekt godzina
        uwagi: podobnie jak poprzednio, build zostal odpalony dla godziny 21
        screen: 11godzina.png

    "prawdziwy" projekt
        uwagi: w konfiguracji przelaczam repozytorium kodu na git, nastepnie kopiuje link https z repozytorium. przelaczam galaz na wlasna. Jako kod do wykonania wpisuje polecenie, ktorym na poprzednich zajeciach odpalalem dockerfile. na screenie (okno przegladarki 'w tle) znajduje sie sam koniec outputu consoli ze statusem sukcesu, jednak wyzej zwrocone bedzie wszystko co wypisuje dockerfile przy budowie
        screen: 12prawdziwy_git.png / 13prawdziwy_kod_konsola.png
